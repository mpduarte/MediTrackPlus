2024-12-01 01:00:10,732 - INFO - [__main__] - === Starting Deployment Process ===
File "/home/runner/MediTrackPlus/deploy.py", line 312, in main

2024-12-01 01:00:10,732 - INFO - [__main__] - Deployment ID: 20241201_010010
File "/home/runner/MediTrackPlus/deploy.py", line 313, in main

2024-12-01 01:00:10,733 - WARNING - [__main__] - No existing Flask application to stop: name 'workflows_stop_tool' is not defined
File "/home/runner/MediTrackPlus/deploy.py", line 321, in main

2024-12-01 01:00:10,733 - INFO - [__main__] - Performing initial dependency check...
File "/home/runner/MediTrackPlus/deploy.py", line 324, in main

2024-12-01 01:00:10,733 - INFO - [__main__] - === Checking Service Dependencies ===
File "/home/runner/MediTrackPlus/deploy.py", line 34, in check_service_dependencies

2024-12-01 01:00:11,079 - INFO - [__main__] - Database connection: OK
File "/home/runner/MediTrackPlus/deploy.py", line 48, in check_service_dependencies

2024-12-01 01:00:11,080 - INFO - [__main__] - File system access: OK
File "/home/runner/MediTrackPlus/deploy.py", line 59, in check_service_dependencies

2024-12-01 01:00:11,080 - INFO - [__main__] - Port 3000 is available
File "/home/runner/MediTrackPlus/deploy.py", line 194, in check_port_availability

2024-12-01 01:00:11,080 - INFO - [__main__] - Environment variables: OK
File "/home/runner/MediTrackPlus/deploy.py", line 71, in check_service_dependencies

2024-12-01 01:00:11,080 - INFO - [__main__] - === Dependencies Status Summary ===
File "/home/runner/MediTrackPlus/deploy.py", line 76, in check_service_dependencies

2024-12-01 01:00:11,080 - INFO - [__main__] - Database: ✓
File "/home/runner/MediTrackPlus/deploy.py", line 78, in check_service_dependencies

2024-12-01 01:00:11,081 - INFO - [__main__] - File System: ✓
File "/home/runner/MediTrackPlus/deploy.py", line 78, in check_service_dependencies

2024-12-01 01:00:11,081 - INFO - [__main__] - Port Availability: ✓
File "/home/runner/MediTrackPlus/deploy.py", line 78, in check_service_dependencies

2024-12-01 01:00:11,081 - INFO - [__main__] - Environment: ✓
File "/home/runner/MediTrackPlus/deploy.py", line 78, in check_service_dependencies

2024-12-01 01:00:11,081 - INFO - [__main__] - === Executing: Checking environment variables ===
File "/home/runner/MediTrackPlus/deploy.py", line 348, in main

2024-12-01 01:00:11,081 - INFO - [__main__] - Started at: 01:00:11
File "/home/runner/MediTrackPlus/deploy.py", line 349, in main

2024-12-01 01:00:11,081 - INFO - [__main__] - All required environment variables are set
File "/home/runner/MediTrackPlus/deploy.py", line 98, in check_environment_variables

2024-12-01 01:00:11,081 - INFO - [__main__] - Completed at: 01:00:11
File "/home/runner/MediTrackPlus/deploy.py", line 357, in main

2024-12-01 01:00:11,082 - INFO - [__main__] - === Executing: Verifying database connection ===
File "/home/runner/MediTrackPlus/deploy.py", line 348, in main

2024-12-01 01:00:11,082 - INFO - [__main__] - Started at: 01:00:11
File "/home/runner/MediTrackPlus/deploy.py", line 349, in main

2024-12-01 01:00:11,082 - INFO - [__main__] - Verifying database connection...
File "/home/runner/MediTrackPlus/deploy.py", line 104, in verify_database_connection

2024-12-01 01:00:11,420 - INFO - [__main__] - Database connection successful
File "/home/runner/MediTrackPlus/deploy.py", line 107, in verify_database_connection

2024-12-01 01:00:11,421 - INFO - [__main__] - Completed at: 01:00:11
File "/home/runner/MediTrackPlus/deploy.py", line 357, in main

2024-12-01 01:00:11,421 - INFO - [__main__] - === Executing: Setting up database ===
File "/home/runner/MediTrackPlus/deploy.py", line 348, in main

2024-12-01 01:00:11,421 - INFO - [__main__] - Started at: 01:00:11
File "/home/runner/MediTrackPlus/deploy.py", line 349, in main

2024-12-01 01:00:11,421 - INFO - [__main__] - Setting up database...
File "/home/runner/MediTrackPlus/deploy.py", line 116, in setup_database

2024-12-01 01:00:12,732 - INFO - [__main__] - Acquired application context
File "/home/runner/MediTrackPlus/deploy.py", line 122, in setup_database

2024-12-01 01:00:12,733 - INFO - [__main__] - Database connection verified
File "/home/runner/MediTrackPlus/deploy.py", line 127, in setup_database

2024-12-01 01:00:13,127 - INFO - [__main__] - Database tables creation initiated
File "/home/runner/MediTrackPlus/deploy.py", line 135, in setup_database

2024-12-01 01:00:13,299 - INFO - [__main__] - Found tables: ['user', 'inventory_log', 'medication', 'consumption', 'prescription']
File "/home/runner/MediTrackPlus/deploy.py", line 144, in setup_database

2024-12-01 01:00:13,685 - INFO - [__main__] - Table consumption columns: ['id', 'medication_id', 'taken_at', 'quantity', 'scheduled_time', 'status']
File "/home/runner/MediTrackPlus/deploy.py", line 158, in setup_database

2024-12-01 01:00:13,898 - INFO - [__main__] - Table medication columns: ['id', 'name', 'dosage', 'frequency', 'current_stock', 'user_id', 'created_at', 'scheduled_time', 'max_daily_doses']
File "/home/runner/MediTrackPlus/deploy.py", line 158, in setup_database

2024-12-01 01:00:14,115 - INFO - [__main__] - Table user columns: ['id', 'username', 'email', 'password_hash']
File "/home/runner/MediTrackPlus/deploy.py", line 158, in setup_database

2024-12-01 01:00:14,326 - INFO - [__main__] - Table prescription columns: ['id', 'medication_id', 'file_name', 'file_path', 'upload_date', 'expiry_date', 'notes']
File "/home/runner/MediTrackPlus/deploy.py", line 158, in setup_database

2024-12-01 01:00:14,538 - INFO - [__main__] - Table inventory_log columns: ['id', 'medication_id', 'quantity_change', 'operation_type', 'timestamp']
File "/home/runner/MediTrackPlus/deploy.py", line 158, in setup_database

2024-12-01 01:00:14,538 - INFO - [__main__] - All required tables and structures verified
File "/home/runner/MediTrackPlus/deploy.py", line 160, in setup_database

2024-12-01 01:00:14,539 - INFO - [__main__] - Completed at: 01:00:14
File "/home/runner/MediTrackPlus/deploy.py", line 357, in main

2024-12-01 01:00:14,539 - INFO - [__main__] - === Executing: Creating upload directories ===
File "/home/runner/MediTrackPlus/deploy.py", line 348, in main

2024-12-01 01:00:14,539 - INFO - [__main__] - Started at: 01:00:14
File "/home/runner/MediTrackPlus/deploy.py", line 349, in main

2024-12-01 01:00:14,539 - INFO - [__main__] - Creating upload directories...
File "/home/runner/MediTrackPlus/deploy.py", line 175, in create_upload_directories

2024-12-01 01:00:14,539 - INFO - [__main__] - Created directory: static/uploads
File "/home/runner/MediTrackPlus/deploy.py", line 182, in create_upload_directories

2024-12-01 01:00:14,539 - INFO - [__main__] - Created directory: static/uploads/prescriptions
File "/home/runner/MediTrackPlus/deploy.py", line 182, in create_upload_directories

2024-12-01 01:00:14,539 - INFO - [__main__] - Completed at: 01:00:14
File "/home/runner/MediTrackPlus/deploy.py", line 357, in main

2024-12-01 01:00:14,540 - INFO - [__main__] - === Executing: Starting Flask application ===
File "/home/runner/MediTrackPlus/deploy.py", line 348, in main

2024-12-01 01:00:14,540 - INFO - [__main__] - Started at: 01:00:14
File "/home/runner/MediTrackPlus/deploy.py", line 349, in main

2024-12-01 01:00:14,540 - INFO - [__main__] - Starting Flask application...
File "/home/runner/MediTrackPlus/deploy.py", line 203, in start_flask_application

2024-12-01 01:00:14,540 - ERROR - [__main__] - Failed to configure Flask application: name 'workflows_set_run_config_tool' is not defined
File "/home/runner/MediTrackPlus/deploy.py", line 216, in start_flask_application

2024-12-01 01:00:14,540 - ERROR - [__main__] - Step failed: Starting Flask application
File "/home/runner/MediTrackPlus/deploy.py", line 352, in main

2024-12-01 01:00:14,540 - ERROR - [__main__] - === Deployment Failed ===
File "/home/runner/MediTrackPlus/deploy.py", line 375, in main

2024-12-01 01:00:14,540 - ERROR - [__main__] - Failed Steps:
File "/home/runner/MediTrackPlus/deploy.py", line 376, in main

2024-12-01 01:00:14,540 - ERROR - [__main__] - ✗ Starting Flask application
File "/home/runner/MediTrackPlus/deploy.py", line 378, in main

2024-12-01 01:00:14,541 - ERROR - [__main__] - 
Please check the detailed logs in debug_20241201_010014.log
File "/home/runner/MediTrackPlus/deploy.py", line 379, in main

